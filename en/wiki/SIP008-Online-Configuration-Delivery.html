<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Shadowsocks - SIP008 Online Configuration Delivery</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content=""><meta name="author" content=""><link rel="stylesheet" href="/assets/css/app.css"><link rel="shortcut icon" href="/assets/img/favicon/favicon.ico"><link rel="apple-touch-icon" href="/assets/img/favicon/apple-touch-icon.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicon/apple-touch-icon-114x114.png"></head><body><div class="boxed" id="wrap"><header><div class="container clearfix"><div class="four columns"><div class="logo"><a href="/#{self.version}/index.html">shadowsocks</a></div></div><div class="twelve columns"><nav class="navigation" id="menu"><ul id="nav"><li><a class="#{active}" href="javascript:void">download</a><ul><li><a href="/en/download/clients.html">Clients</a></li><li><a href="/en/download/servers.html">Servers</a></li></ul></li><li><a class="#{active}" href="javascript:void">config</a><ul><li><a href="/en/config/quick-guide.html">Quick Guide</a></li><li><a href="/en/config/advanced.html">Advanced</a></li></ul></li><li><a class="#{active}" href="javascript:void">wiki</a><ul><li><a href="/en/wiki/AEAD-Ciphers.html">AEAD Ciphers</a></li><li><a href="/en/wiki/Implementations.html">Implementations</a></li><li><a href="/en/wiki/Plugin.html">Plugin</a></li><li><a href="/en/wiki/Protocol.html">Protocol</a></li><li><a href="/en/wiki/SIP002-URI-Scheme.html">SIP002 URI Scheme</a></li><li><a href="/en/wiki/SIP008-Online-Configuration-Delivery.html">SIP008 Online Configuration Delivery</a></li><li><a href="/en/wiki/Setup-fail2ban.html">Setup Fail2ban</a></li><li><a href="/en/wiki/Stream-Ciphers.html">Stream Ciphers</a></li></ul></li><li><a class="#{active}" href="javascript:void">about</a><ul><li><a href="/en/about/contributors.html">Contributors</a></li></ul></li><li><a href="javascript:void">en</a><ul><li><a href="/en/index.html">en</a></li></ul></li></ul></nav></div><div class="sixteen columns"><hr></div></div></header><div class="container clearfix"><div class="sixteen columns"><h1 class="page-title">SIP008 Online Configuration Delivery<a class="edit" href="#{self.editUrl}" data-tooltip="Edit this page on GitHub"><i class="icon-edit"></i></a><span class="line"></span></h1></div><div class="page-columns"><div class="sixteen columns bottom" id="markdown"><h2>Overview</h2><p>This specification defines a standard JSON document format for online configuration sharing and delivery, along with guidelines and security considerations for the secure transport of server configurations.</p><h2>JSON Document Format</h2><p>An example of a standard SIP008 JSON document:</p><pre><code>{
    <span class="hljs-attr">&quot;version&quot;</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">&quot;servers&quot;</span>: [
        {
            <span class="hljs-comment">// Server UUID to distinguish between servers when updating.</span>
            <span class="hljs-attr">&quot;id&quot;</span>: <span class="hljs-string">&quot;27b8a625-4f4b-4428-9f0f-8a2317db7c79&quot;</span>,
            <span class="hljs-attr">&quot;remarks&quot;</span>: <span class="hljs-string">&quot;Name of the server&quot;</span>,
            <span class="hljs-attr">&quot;server&quot;</span>: <span class="hljs-string">&quot;example.com&quot;</span>,
            <span class="hljs-attr">&quot;server_port&quot;</span>: <span class="hljs-number">8388</span>,
            <span class="hljs-attr">&quot;password&quot;</span>: <span class="hljs-string">&quot;example&quot;</span>,
            <span class="hljs-attr">&quot;method&quot;</span>: <span class="hljs-string">&quot;chacha20-ietf-poly1305&quot;</span>,
            <span class="hljs-attr">&quot;plugin&quot;</span>: <span class="hljs-string">&quot;xxx&quot;</span>,
            <span class="hljs-attr">&quot;plugin_opts&quot;</span>: <span class="hljs-string">&quot;xxxxx&quot;</span>
        },
        <span class="hljs-comment">// Another server</span>
        {
            <span class="hljs-attr">&quot;id&quot;</span>: <span class="hljs-string">&quot;7842c068-c667-41f2-8f7d-04feece3cb67&quot;</span>,
            <span class="hljs-attr">&quot;remarks&quot;</span>: <span class="hljs-string">&quot;Name of the server&quot;</span>,
            <span class="hljs-attr">&quot;server&quot;</span>: <span class="hljs-string">&quot;example.com&quot;</span>,
            <span class="hljs-attr">&quot;server_port&quot;</span>: <span class="hljs-number">8388</span>,
            <span class="hljs-attr">&quot;password&quot;</span>: <span class="hljs-string">&quot;example&quot;</span>,
            <span class="hljs-attr">&quot;method&quot;</span>: <span class="hljs-string">&quot;chacha20-ietf-poly1305&quot;</span>,
            <span class="hljs-attr">&quot;plugin&quot;</span>: <span class="hljs-string">&quot;xxx&quot;</span>,
            <span class="hljs-attr">&quot;plugin_opts&quot;</span>: <span class="hljs-string">&quot;xxxxx&quot;</span>
        }
    ],
    <span class="hljs-comment">// The above fields are mandatory.</span>
    <span class="hljs-comment">// Optional fields for data usage:</span>
    <span class="hljs-attr">&quot;bytes_used&quot;</span>: <span class="hljs-number">274877906944</span>,
    <span class="hljs-attr">&quot;bytes_remaining&quot;</span>: <span class="hljs-number">824633720832</span>
    <span class="hljs-comment">// You may add other custom fields in the root object.</span>
}</code></pre><ul><li>All fields listed above, unless specified otherwise, are mandatory. You may define and include your own custom fields, but they are not guaranteed to be supported by all clients. Follow the naming convention of <code>snake_case</code> when naming your custom fields.</li><li>The root object must contain a <code>version</code> field and it&#39;s set to <code>1</code> for this version of the standard.</li><li>Each object within the <code>servers</code> array must represent a valid Shadowsocks server. Custom fields are allowed.</li><li>The <code>id</code> field is a randomly-generated UUID used as the server UUID. With the server UUID, clients can distinguish between different servers, so client-specific miscellaneous information of the servers can be preserved when updating from an online configuration source.</li><li>If a server does not use a plugin, the <code>plugin</code> and <code>plugin_opts</code> should be empty or excluded from the server object.</li><li>To report data usage metrics to the client, the service provider must use the optional <code>bytes_used</code> and <code>bytes_remaining</code> fields. Custom fields must not be defined for the same purpose of the data usage optional fields. Clients without data usage support may ignore the data usage fields. Clients with data usage support must only use the data usage fields as the data source.</li><li>The <code>bytes_used</code> field represents data used by the user in bytes.</li><li>The <code>bytes_remaining</code> field represents data remaining to be used by the user in bytes. If no data limit is in place, the field must be omitted. If a data limit is enforced, the <code>bytes_used</code> field must also be included. In other words, this field must not be specified without the <code>bytes_used</code> field.</li></ul><h2>Transport and Delivery</h2><ul><li>Delivery of an SIP008 JSON document must use HTTPS as the transport protocol. Clients must not ignore certificate issues or TLS handshake errors to protect against TLS MITM attacks. The web server should be configured to only use modern TLS versions to avoid week encryption and protect against TLS downgrade attacks. Plain HTTP can only be used for debugging purposes. Clients may display a warning message or reject it when a plain HTTP link is used.</li><li>A delivery URL should employ basic protections against crawling. Common practices include using secrets in URL path and/or query.</li><li>The response from the web service must be a standard JSON document. The response header must contain <code>Content-Type: application/json; charset=utf-8</code>. A response with an incorrect content type or in other charater sets can cause undefined behaviors in the client, and is not allowed by the standard.</li><li>The JSON document should avoid escaping as mush as possible to maximize human readability. It doesn&#39;t need to be HTML safe, as the HTTP response content type is required in the previous rule.</li><li>Clients may support importing from or exporting as JSON files, so users can exchange an SIP008 JSON document via their own transport channels.</li></ul></div></div></div><div class="push"></div></div><footer><div class="container"><div class="sisteen columns"><span class="copyright"><a href="https://github.com/shadowsocks">Projects of Shadowsocks</a>&nbsp;are distributed under different licenses, including &nbsp;<a href="https://github.com/shadowsocks/shadowsocks/blob/master/LICENSE">APL 2.0,</a>&nbsp;<a href="https://github.com/shadowsocks/shadowsocks-libev/blob/master/LICENSE">GPLv3</a>&nbsp; and &nbsp;<a href="https://github.com/shadowsocks/libQtShadowsocks/blob/master/LICENSE">LGPLv3</a>. Theme by <a href="http://karma-runner.github.io">Karma</a>.</span></div></div></footer></body><script src="/assets/js/app.js"></script><script src="/assets/js/analytics.js"></script></html>